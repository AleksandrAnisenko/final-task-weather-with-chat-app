(this["webpackJsonpfinal-task-weather-with-chat-app"]=this["webpackJsonpfinal-task-weather-with-chat-app"]||[]).push([[0],{87:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t),a.d(t,"Context",(function(){return z}));var n=a(5),c=a(1),i=a(15),r=a.n(i),s=a(22),o=a(50),l=a(122),d=a(126),j=a(127),u=a(130),h=a(29),p=function(){var e=Object(c.useContext)(z).auth,t=Object(h.a)(e),a=Object(s.a)(t,1)[0];return Object(n.jsx)(l.a,{color:"primary",position:"static",children:Object(n.jsxs)(d.a,{variant:"dense",children:[Object(n.jsx)("span",{style:{minWidth:"200px"},children:"WEATHE WITH CHAT APP"}),Object(n.jsx)(j.a,{container:!0,justify:"flex-end",children:!!a&&Object(n.jsx)(u.a,{onClick:function(){return e.signOut()},variant:"contained",color:"secondary",children:"Log out"})})]})})},b=a(17),m="/login",O="/weather",x=a(37),f=a(62),g=a(63),y=a(38),v=a(67),w=a(66),C=a(27),k=(a(84),function(e){Object(v.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).login=n.login.bind(Object(y.a)(n)),n.signup=n.signup.bind(Object(y.a)(n)),n.handleChange=n.handleChange.bind(Object(y.a)(n)),n.state={email:"",password:""},n}return Object(g.a)(a,[{key:"login",value:function(e){e.preventDefault(),C.a.auth().signInWithEmailAndPassword(this.state.email,this.state.password).then((function(e){console.log(e.user.uid)})).catch((function(e){console.log(e)}))}},{key:"signup",value:function(e){e.preventDefault(),C.a.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).catch((function(e){console.log(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(x.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"col-md-4",style:{marginTop:"100px"},children:Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{class:"form-group",children:[Object(n.jsx)("label",{for:"exampleInputEmail1",style:{color:"#fff",fontSize:"25px"},children:"Email address:"}),Object(n.jsx)("input",{value:this.state.email,onChange:this.handleChange,type:"email",name:"email",class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"}),Object(n.jsx)("small",{id:"emailHelp",class:"form-text",style:{color:"#ddd"},children:"We'll never share your email with anyone else."})]}),Object(n.jsxs)("div",{class:"form-group",children:[Object(n.jsx)("label",{for:"exampleInputPassword1",style:{color:"#fff",fontSize:"25px"},children:"Password:"}),Object(n.jsx)("input",{value:this.state.password,onChange:this.handleChange,type:"password",name:"password",class:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(n.jsx)(u.a,{type:"submit",onClick:this.login,variant:"contained",color:"primary",children:"Login"}),Object(n.jsx)(u.a,{onClick:this.signup,style:{marginLeft:"25px"},variant:"contained",color:"secondary",children:"SignUp"})]})]})})}}]),a}(c.Component)),I=a(51),N=a.n(I),S=a(64),A=a(128),P=a(129),E=a(65),T=function(){return Object(n.jsx)(A.a,{children:Object(n.jsx)(j.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:Object(n.jsx)(j.a,{container:!0,alignItems:"center",direction:"column",children:Object(n.jsx)("div",{className:"lds-hourglass"})})})})},D=function(){var e,t=Object(c.useContext)(z),a=t.auth,i=t.firestore,r=Object(h.a)(a),o=Object(s.a)(r,1)[0],l=Object(c.useState)(""),d=Object(s.a)(l,2),p=d[0],b=d[1],m=Object(E.a)(i.collection("messages").orderBy("createdAt")),O=Object(s.a)(m,2),f=O[0],g=O[1],y=function(){var e=Object(S.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.collection("messages").add({uid:o.uid,email:o.email,text:p,createdAt:C.a.firestore.FieldValue.serverTimestamp()}),b("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g?Object(n.jsx)(T,{}):Object(n.jsx)(A.a,{style:{width:"60%"},children:Object(n.jsxs)(j.a,{container:!0,justify:"center",style:{height:window.innerHeight-50,margin:"0 auto"},children:[Object(n.jsx)("div",{style:{width:"100%",height:"60vh",overflowY:"auto",backgroundColor:"rgba(255,255,255,0.3)"},children:f.map((function(e){return Object(n.jsxs)("div",{style:{margin:10,padding:15,marginLeft:o.uid===e.uid?"auto":"10px",width:"fit-content",borderRadius:"25px",backgroundColor:o.uid===e.uid?"#4c9066":"#08070787",color:"#fff"},children:[Object(n.jsx)(j.a,{container:!0,children:Object(n.jsx)("div",{children:e.email})}),Object(n.jsx)("div",{children:e.text})]})}))}),Object(n.jsxs)(j.a,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"100%"},children:[Object(n.jsx)(P.a,{fullWidth:!0,rowsMax:2,variant:"outlined",value:p,onChange:function(e){return b(e.target.value)},style:{backgroundColor:"rgba(255,255,255,0.6)"}}),Object(n.jsx)(u.a,(e={onClick:y,variant:"outlined",color:"primary"},Object(x.a)(e,"variant","contained"),Object(x.a)(e,"style",{marginTop:"20px"}),Object(x.a)(e,"children","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),e))]})]})})},W="c7616da4b68205c2f3ae73df2c31d177",F="https://api.openweathermap.org/data/2.5/";var H=[{path:m,Component:k}],J=[{path:O,Component:function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),a=t[0],i=t[1],r=Object(c.useState)({}),o=Object(s.a)(r,2),l=o[0],d=o[1];return Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},className:"undefined"!=typeof l.main?l.main.temp<0?"app cold":l.main.temp<20?"app middle":l.main.temp<30?"app warm":"app hot":"app",children:[Object(n.jsxs)("main",{children:[Object(n.jsx)("div",{className:"search-box",children:Object(n.jsx)("input",{type:"text",className:"search-bar",placeholder:"Search...",onChange:function(e){return i(e.target.value)},value:a,onKeyPress:function(e){"Enter"===e.key&&fetch("".concat(F,"weather?q=").concat(a,"&units=metric&appid=").concat(W)).then((function(e){return e.json()})).then((function(e){d(e),i(""),console.log(e)}))}})}),"undefined"!=typeof l.main?Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"location-box",children:[Object(n.jsxs)("div",{className:"location",children:[l.name,", ",l.sys.country]}),Object(n.jsx)("div",{className:"date",children:function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],a=e.getDate(),n=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],c=e.getFullYear();return"".concat(t," ").concat(a," ").concat(n," ").concat(c)}(new Date)})]}),Object(n.jsxs)("div",{className:"weather-box",children:[Object(n.jsxs)("div",{className:"temp",children:[Math.round(l.main.temp),"\xb0c"]}),Object(n.jsx)("div",{className:"weather",children:l.weather[0].main})]})]}):""]}),Object(n.jsx)(D,{})]})}}],M=function(){var e=Object(c.useContext)(z).auth,t=Object(h.a)(e);return Object(s.a)(t,1)[0]?Object(n.jsxs)(b.d,{children:[J.map((function(e){var t=e.path,a=e.Component;return Object(n.jsx)(b.b,{path:t,component:a,exact:!0},t)})),Object(n.jsx)(b.a,{to:O})]}):Object(n.jsxs)(b.d,{children:[H.map((function(e){var t=e.path,a=e.Component;return Object(n.jsx)(b.b,{path:t,component:a,exact:!0},t)})),Object(n.jsx)(b.a,{to:m})]})},L=(a(87),function(){var e=Object(c.useContext)(z).auth,t=Object(h.a)(e),a=Object(s.a)(t,3),i=(a[0],a[1]);a[2];return i?Object(n.jsx)(T,{}):Object(n.jsxs)(o.a,{children:[Object(n.jsx)(p,{}),Object(n.jsx)(M,{})]})});a(88),a(89),a(90);C.a.initializeApp({apiKey:"AIzaSyB_Dr30Zk46yvrFiQ6qCCoJN87uL8eZJyY",authDomain:"weather-with-chat-app.firebaseapp.com",projectId:"weather-with-chat-app",storageBucket:"weather-with-chat-app.appspot.com",messagingSenderId:"946258589850",appId:"1:946258589850:web:534e08bab54a0a16e5c723",measurementId:"G-NP2T4F7ZVF"});var z=Object(c.createContext)(null),B=C.a.auth(),Y=C.a.firestore();r.a.render(Object(n.jsx)(z.Provider,{value:{firebase:C.a,auth:B,firestore:Y},children:Object(n.jsx)(L,{})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.66b0e8f4.chunk.js.map